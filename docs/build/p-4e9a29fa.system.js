var __extends=this&&this.__extends||function(){var t=function(e,n){t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)if(e.hasOwnProperty(n))t[n]=e[n]};return t(e,n)};return function(e,n){t(e,n);function r(){this.constructor=e}e.prototype=n===null?Object.create(n):(r.prototype=n.prototype,new r)}}();var __awaiter=this&&this.__awaiter||function(t,e,n,r){function i(t){return t instanceof n?t:new n((function(e){e(t)}))}return new(n||(n=Promise))((function(n,o){function a(t){try{s(r.next(t))}catch(e){o(e)}}function u(t){try{s(r["throw"](t))}catch(e){o(e)}}function s(t){t.done?n(t.value):i(t.value).then(a,u)}s((r=r.apply(t,e||[])).next())}))};var __generator=this&&this.__generator||function(t,e){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a;return a={next:u(0),throw:u(1),return:u(2)},typeof Symbol==="function"&&(a[Symbol.iterator]=function(){return this}),a;function u(t){return function(e){return s([t,e])}}function s(a){if(r)throw new TypeError("Generator is already executing.");while(n)try{if(r=1,i&&(o=a[0]&2?i["return"]:a[0]?i["throw"]||((o=i["return"])&&o.call(i),0):i.next)&&!(o=o.call(i,a[1])).done)return o;if(i=0,o)a=[a[0]&2,o.value];switch(a[0]){case 0:case 1:o=a;break;case 4:n.label++;return{value:a[1],done:false};case 5:n.label++;i=a[1];a=[0];continue;case 7:a=n.ops.pop();n.trys.pop();continue;default:if(!(o=n.trys,o=o.length>0&&o[o.length-1])&&(a[0]===6||a[0]===2)){n=0;continue}if(a[0]===3&&(!o||a[1]>o[0]&&a[1]<o[3])){n.label=a[1];break}if(a[0]===6&&n.label<o[1]){n.label=o[1];o=a;break}if(o&&n.label<o[2]){n.label=o[2];n.ops.push(a);break}if(o[2])n.ops.pop();n.trys.pop();continue}a=e.call(t,n)}catch(u){a=[6,u];i=0}finally{r=o=0}if(a[0]&5)throw a[1];return{value:a[0]?a[1]:void 0,done:true}}};var __spreadArrays=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;for(var r=Array(t),i=0,e=0;e<n;e++)for(var o=arguments[e],a=0,u=o.length;a<u;a++,i++)r[i]=o[a];return r};System.register([],(function(t){"use strict";return{execute:function(){t({C:v,G:p,P:h,W:d,a:l,t:f});var e=function(){var t=[];for(var n=0;n<arguments.length;n++){t[n]=arguments[n]}return e.debug&&console.log.apply(console,t)};e.debug=false;var n=t("l",e);var r=function(){};function i(t,e,i){var o=t[e]||r;t[e]=function(){var t=[];for(var r=0;r<arguments.length;r++){t[r]=arguments[r]}return __awaiter(this,void 0,void 0,(function(){var r,a;return __generator(this,(function(u){switch(u.label){case 0:n(e,this);return[4,i(this)];case 1:r=u.sent();return[4,o.apply(this,t)];case 2:a=u.sent();if(!(r instanceof Function))return[3,4];return[4,r(this)];case 3:u.sent();u.label=4;case 4:return[2,a]}}))}))}}function o(t){var e;var n=(e=t)===null||e===void 0?void 0:e["el"];if(n instanceof Object&&typeof n.forceUpdate==="function"){return n}throw new c("Property 'el' required on "+t)}var a=Symbol.for("stencil-quantum-providers");var u=function(){function t(t,e){this.key=t;this.value=e;this.listeners=[];this.hooks=new Map;this.retrieve=this.retrieve.bind(this);this.provide=this.provide.bind(this);this.listen=this.listen.bind(this)}t.prototype.retrieve=function(){return this.value};t.prototype.provide=function(t){n("PROVIDING",t,"to",this.listeners);this.value=t;this.listeners.forEach((function(e){return e(t)}));return this};t.prototype.update=function(t){return this.provide(t(this.retrieve()))};t.prototype.listen=function(t,e){var r=this;if(e===void 0){e=true}n("LISTEN",e,this,t);this.listeners=__spreadArrays(this.listeners,[t]);if(e)t(this.value);return function(){r.listeners=r.listeners.filter((function(e){return e!==t}))}};t.prototype.attach=function(e,r){n("Add Provider",e,this);var i=t.getAttached(e);if(!i.includes(this))i.push(this);n("Total Providers",e,i);return r?this:this.hook(e)};t.prototype.isHooked=function(t){return this.hooks.has(t)};t.prototype.hook=function(t){n("Hook Provider",t,this);this.hooks.set(t,this.listen((function(){return t.forceUpdate()})));return this};t.prototype.unhook=function(t){n("Unhook Provider",t,this);if(this.isHooked(t)){this.hooks.get(t)();this.hooks.delete(t)}return this};t.find=function(e,r){var i,o,a,u;n("Searching Provider",r,e);var s=t.getAttached(e).filter((function(t){return t.key===r}));if(s.length>1){throw new c('Found multiple "'+String(r)+'" providers on the same object!')}else if(s.length===1){return s[0]}var f=(a=(i=e.parentElement,i!==null&&i!==void 0?i:(o=e.shadowRoot)===null||o===void 0?void 0:o.host),a!==null&&a!==void 0?a:(u=e.parentNode)===null||u===void 0?void 0:u.host);if(!f){throw new c('No provider in hierarchy found that matches "'+String(r)+'"!')}return t.find(f,r).attach(e,true)};t.create=function(e,r,i){n("Create Provider",e,r,i);return new t(r,i).attach(e)};t.getAttached=function(t){if(!(t[a]instanceof Array)){t[a]=[]}return t[a]};return t}();t("b",u);var s=Symbol.for("stencil-quantum-error");var c=function(t){__extends(e,t);function e(e,n){var r=t.call(this,e instanceof Error?e.message:e)||this;r.target=n;if(e instanceof Error)Object.assign(r,e);return r}return e}(Error);function f(t,e){var n=new c(e,t);console.error(n);try{var r=u.find(t,s);r.provide(n)}catch(i){throw n}}function l(){return function(t,e){var n=new u(s,t[e]);i(t,"componentWillLoad",(function(t){var e=o(t);try{n.attach(e);n.hook(e)}catch(r){f(e,r)}}));if(delete t[e]){Object.defineProperty(t,e,{get:n.retrieve,set:n.provide,enumerable:true,configurable:true})}}}function h(t){return function(e,n){t=t||n;var r=new u(t,e[n]);i(e,"componentWillLoad",(function(t){var e=o(t);try{r.attach(e);r.hook(e)}catch(n){f(e,n)}}));if(delete e[n]){Object.defineProperty(e,n,{get:r.retrieve,set:r.provide,enumerable:true,configurable:true})}}}function v(t){return function(e,n){t=t||n;var r;var a;i(e,"componentWillLoad",(function(e){var n=o(e);try{r=u.find(n,t);r.hook(n)}catch(i){}return function(){try{if(r)r.unhook(n);r=u.find(n,t);r.hook(n)}catch(i){f(n,i)}}}));if(delete e[n]){Object.defineProperty(e,n,{get:function(){return r&&r.retrieve()||a},set:function(t){return a=t},enumerable:true,configurable:true})}}}function d(t){return function(e,n,r){var a=r.value;i(e,"componentWillLoad",(function(e){var r=o(e);var i=function(){};var s;if(t){s=u.create(r,n,undefined)}var c=function(){var o=u.find(r,t!==null&&t!==void 0?t:n);i=o.listen((function(t){try{var n=a.apply(e,[t]);if(s)s.provide(n)}catch(i){f(r,i)}}))};try{c()}catch(l){}return function(){i();try{c()}catch(l){f(r,l)}}}));return r}}function p(t,e,r,i){if(i===void 0){i=100}return y(t,e,r,{onAxios:function(t){n("GET onAxios",t.params);if(!r||!!t.params)t.fns.send(t)},onParams:function(t){n("GET onParams",t.params,t.query);if(!!t.axios)t.fns.send(t)},send:function(t){return __awaiter(this,void 0,void 0,(function(){var e;return __generator(this,(function(r){switch(r.label){case 0:n("GET send",t);return[4,t.axios.get(t.query.path,{params:t.query.params})];case 1:e=r.sent();t.value=e.data;t.el.forceUpdate();return[2]}}))}))},setValue:function(t,e){e.value=t;if(e.el)e.el.forceUpdate()},getValue:function(t){return t.value}},i)}function y(t,e,r,a,s){if(s===void 0){s=100}return function(c,l){var h=this;var v={proto:c,propertyName:l,value:c[l],path:e,fns:a,query:g(e)};if(v.fns.init)v.fns.init(v);i(c,"componentWillLoad",(function(e){return __awaiter(h,void 0,void 0,(function(){var i;var a=this;return __generator(this,(function(c){switch(c.label){case 0:v.obj=e;v.el=o(v.obj);c.label=1;case 1:c.trys.push([1,4,,5]);if(!v.fns.onComponent)return[3,3];return[4,v.fns.onComponent(v)];case 2:c.sent();c.label=3;case 3:return[3,5];case 4:i=c.sent();f(v.el,i);return[3,5];case 5:return[2,function(){try{u.find(v.el,t).listen((function(t){return __awaiter(a,void 0,void 0,(function(){var e;return __generator(this,(function(n){switch(n.label){case 0:n.trys.push([0,3,,4]);v.axios=t;if(!(v.fns&&v.fns.onAxios))return[3,2];return[4,v.fns.onAxios(v)];case 1:n.sent();n.label=2;case 2:return[3,4];case 3:e=n.sent();f(v.el,e);return[3,4];case 4:return[2]}}))}))}));var e;if(r!==undefined)u.find(v.el,r).listen((function(t){return __awaiter(a,void 0,void 0,(function(){var r=this;return __generator(this,(function(i){n("Pre onParams",t);v.params=t;v.query=g(v.path,v.params);if(e)clearTimeout(e);e=setTimeout((function(){return __awaiter(r,void 0,void 0,(function(){var t,e,n,r;return __generator(this,(function(i){switch(i.label){case 0:i.trys.push([0,2,,3]);return[4,(n=(t=v.fns)===null||t===void 0?void 0:(e=t).onParams)===null||n===void 0?void 0:n.call(e,v)];case 1:i.sent();return[3,3];case 2:r=i.sent();f(v.el,r);return[3,3];case 3:return[2]}}))}))}),s);return[2]}))}))}))}catch(i){f(v.el,i)}}]}}))}))}));if(delete c[l]){Object.defineProperty(c,l,{get:function(){return v.fns&&v.fns.getValue(v)},set:function(t){return v.fns&&v.fns.setValue(t,v)},enumerable:true,configurable:true})}}}var _=[{replace:function(t){return"{"+t+"}"},with:function(t){return""+t}},{replace:function(t){return"/\\:"+t+"$"},with:function(t){return"/"+t}},{replace:function(t){return"/\\:"+t+"/"},with:function(t){return"/"+t+"/"}}];var b=function(t){return""+t};function g(t,e){var r=t;var i={};if(!!e){var o=function(t,e){var o=r;r=_.reduce((function(r,i){var o,a,u;var s=i.replace(t);n("------ Checking ",r,"with",s);return!r.match(new RegExp(s,"g"))?r:r.replace(new RegExp(s,"g"),escape((u=(a=(o=i).with)===null||a===void 0?void 0:a.call(o,e),u!==null&&u!==void 0?u:b(e))))}),r);if(r===o){i[t]=e}};for(var a=0,u=Object.entries(e);a<u.length;a++){var s=u[a],c=s[0],f=s[1];o(c,f)}}return{path:r,params:i}}}}}));
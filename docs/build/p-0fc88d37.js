import{g as n}from"./p-d3a33f42.js";import{h as t,P as e,t as l,n as c}from"./p-4644e97c.js";function o(c,o){return function(u,r){const i=null==c?void 0:c.get(o);let a=null==i?void 0:i.default;delete u[r],t(u,"componentWillLoad",(c=>{const d=n(c);let s;try{s=e.find(d,o,null==i?void 0:i.namespace,null==i?void 0:i.debug),s.hook(d)}catch(n){}return t(u,"disconnectedCallback",(t=>{if(t===c){const t=n(c);null==s||s.pauseHook(t,!0)}})),t(u,"connectedCallback",(t=>{if(t===c){const t=n(c);null==s||s.pauseHook(t,!1)}})),Object.defineProperty(c,r,{get:()=>{var n;return null!==(n=null==s?void 0:s.retrieve())&&void 0!==n?n:a},set:n=>{(null==i?void 0:i.mutable)&&(null==s?void 0:s.mutable)?s.provide(n):a=n},enumerable:!0,configurable:!0}),()=>{if(!s)try{s=e.find(d,o,null==i?void 0:i.namespace,null==i?void 0:i.debug),s.hook(d)}catch(n){l(d,n)}}}))}}class u{constructor(n,t){this.keys=Object.entries(n).map((([n,e])=>({name:n,namespace:null==t?void 0:t.namespace,default:e.default,mutable:e.mutable,debug:e.debug,config:this}))).reduce(((n,t)=>Object.assign(Object.assign({},n),{[t.name]:t})),{})}get(n){return this.keys[n]}Provide(c){return function(c,o){return function(u,r){const i=null==c?void 0:c.get(o);let a=u[r]||(null==i?void 0:i.default);delete u[r],t(u,"componentWillLoad",(c=>{const d=n(c),s=e.create(d,o,null!=a?a:c[r],null==i?void 0:i.namespace,null==i?void 0:i.debug);s.mutable=!!(null==i?void 0:i.mutable);try{s.attach(d),s.hook(d)}catch(n){l(d,n)}Object.defineProperty(c,r,{get:()=>s.retrieve(),set:n=>s.provide(n),enumerable:!0,configurable:!0}),t(u,"disconnectedCallback",(n=>{n===c&&s.pause()})),t(u,"connectedCallback",(n=>{n===c&&s.pause(!1)}))}))}}(this,c)}Context(n){return o(this,n)}Observe(c){return function(c,o){return function(u,r,i){const a=null==c?void 0:c.get(o),d=i.value;return t(u,"componentWillLoad",(c=>{let r,i;const s=n(c),v=()=>{r=e.find(s,o,null==a?void 0:a.namespace),i=r.listen((n=>{try{d.apply(c,[n])}catch(n){l(s,n)}}))};t(u,"disconnectedCallback",(n=>{n===c&&i&&(i.paused=!0)})),t(u,"connectedCallback",(n=>{n===c&&i&&(i.paused=!1)}));try{v()}catch(n){}return()=>{if(!r){null==i||i.unlisten();try{v()}catch(n){l(s,n)}}}})),i}}(this,c)}React(o,u,r){return i=this,a=o,d=u,s=r,function(o,u,r){const v=i.get(a),b=d.get(s),f=r.value;return t(o,"componentWillLoad",(u=>{const r=n(u);let i,a;const d=e.create(r,b.name,void 0,b.namespace);d.mutable=!!b.mutable;const s=()=>{a=e.find(r,v.name,v.namespace),i=a.listen((async n=>{try{const t=await f.apply(u,[n]);d&&d.provide(t)}catch(n){l(r,n)}}))};t(o,"disconnectedCallback",(n=>{n===u&&i&&(i.paused=!0)})),t(o,"connectedCallback",(n=>{n===u&&i&&(i.paused=!1)}));try{return s(),c}catch(n){return()=>{null==i||i.unlisten();try{s()}catch(n){l(r,n)}}}})),r};var i,a,d,s}Implement(c){return function(c,o){return function(u,r){const i=null==c?void 0:c.get(o);let a=u[r]||(null==i?void 0:i.default);delete u[r],t(u,"componentWillLoad",(c=>{const d=n(c),s=e.create(d,o,null!=a?a:c[r],null==i?void 0:i.namespace,null==i?void 0:i.debug);try{s.attach(d),s.hook(d)}catch(n){l(d,n)}Object.defineProperty(c,r,{get:()=>s.retrieve(),set:n=>s.provide(((...t)=>n.apply(c,t))),enumerable:!0,configurable:!0}),t(u,"disconnectedCallback",(n=>{n===c&&s.pause()})),t(u,"connectedCallback",(n=>{n===c&&s.pause(!1)}))}))}}(this,c)}Action(n){return o(this,n)}}function r(n={}){return n}const i=new u({personToGreet:r({mutable:!0}),api:r(),changeName:function(n={}){return n}()});export{u as E,i as d,r as q}